##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# ======================================================
# Scratchpad rules: special workspaces
# ======================================================
# 1) Terminal
windowrule = workspace special:sp_term, match:class ^(sp_term)$
windowrule = opacity 1.0 override 0.5 override 0.8 override, match:class ^(sp_term)$
windowrule = float on, match:class ^(sp_term)$

# 2) KeepassXC
windowrule = workspace special:keepassxc, match:class ^(org.keepassxc.KeePassXC)$
windowrule = opacity 1.0 0.1 0.1 ,match:class ^(org.keepassxc.KeePassXC)$ 
windowrule = animation popin,match:class ^(org.keepassxc.KeePassXC)$ 
windowrule = float on,match:class ^(org.keepassxc.KeePassXC)$ 
windowrule = center on,match:class ^(org.keepassxc.KeePassXC)$ 

# 3) Audio control
windowrule = workspace special:sp_pulse, match:class ^(sp_pulse)$
windowrule = opacity 1.0 override 0.2 override 0.2 override, match:class ^(sp_pulse)$
windowrule = float on, match:class ^(sp_pulse)$
# windowrule = noanim on, match:class ^(sp_pulse)$
windowrule = center on, match:class ^(sp_pulse)$

# 4) Yazi
windowrule = workspace special:sp_yazi, match:class ^(sp_yazi)$
windowrule = opacity 1.0 override 0.5 override 0.8 override, match:class ^(sp_yazi)$
windowrule = float on, match:class ^(sp_yazi)$
windowrule = center on, match:class ^(sp_yazi)$

# 5) ncmpcpp (music player)
windowrule = workspace special:sp_music, match:class ^(sp_music)$
windowrule = opacity 1.0 override 0.5 override 0.8 override, match:class ^(sp_music)$
windowrule = float on, match:class ^(sp_music)$
windowrule = center on, match:class ^(sp_music)$


# ======================================================
# Window spawing rules 
# ======================================================
# windowrule = workspace 2 silent,class:^(Zen)$
windowrule = workspace 2 silent,match:class ^(chromium)$
windowrule = workspace 3 silent,match:class ^(obsidian)$
windowrule = workspace 4 silent,match:class ^(ferdium)$
windowrule = workspace 9 silent,match:class ^(discord)$
windowrule = workspace 9 silent,match:class ^(vesktop)$
# windowrule = workspace 10 silent,match:class ^(org.qbittorrent.qBittorrent)$
windowrule = workspace 10 silent,match:class ^(gnome-pomodoro)$
windowrule = workspace 5 silent,match:class ^(Spotify)$
windowrule = workspace 5 silent,match:class ^(firefox)$

# ======================================================
# Floating rules
# ======================================================
windowrule = float on, match:title dialog
windowrule = float on, match:title confirm
windowrule = float on, match:title download
windowrule = float on, match:title notification
windowrule = float on, match:title error
windowrule = float on, match:title splash
windowrule = float on, match:title title:Open File
windowrule = float on, match:title System Logout
# windowrule = float, title:^(Waypaper)$
windowrule = idle_inhibit focus, match:class ^(mpv)$
windowrule = float on, match:title ^(Media viewer)$
windowrule = float on, match:title ^(Picture-in-Picture)$
windowrule = float on, match:title ^(Picture-in-Picture)$
windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = float on, match:class ^(swayimg)$

# Gnome Calculator
windowrule = float on,match:class (org.gnome.Calculator)
windowrule = size 700 600,match:class (org.gnome.Calculator)
windowrule = center on,match:class (org.gnome.Calculator)

# Pavucontrol floating
# windowrule = float, title:Volume Control
# windowrule = float, title:^(Volume Control)$ # pavucontrol
windowrule = float on,match:class (.*org.pulseaudio.pavucontrol.*)
windowrule = size 700 600,match:class (.*org.pulseaudio.pavucontrol.*)
windowrule = center on,match:class (.*org.pulseaudio.pavucontrol.*)
windowrule = pin on,match:class (.*org.pulseaudio.pavucontrol.*)


# ======================================================
# Special rules
# ======================================================
# No shadow for tiled windows
# windowrule = no_shadow on, floating:0
# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppress_event maximize, match:class .*
# # Fix some dragging issues with XWayland
# windowrule = no_focus on,match:class ^$,match:title ^$,xwayland 1,floating 1,fullscreen 0,pinned 0

# ======================================================
# Workspace rules
# ======================================================
workspace = 6, layoutopt:orientation:center
workspace = 7, layoutopt:orientation:center
workspace = 8, layoutopt:orientation:top
workspace = 9, layoutopt:orientation:top
workspace = 10, layoutopt:orientation:left

# ======================================================
# SMART GAPS
# ------------------------------------------------------
# Source: https://wiki.hyprland.org/Configuring/Workspace-Rules/
# To replicate “smart gaps” / “no gaps when only” from other WMs/Compositors, use this bad boy:
# ======================================================
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrule = border_size 0, match:float 0, match:workspace w[tv1]
windowrule = rounding 0, match:float 0, match:workspace w[tv1]
windowrule = border_size 0, match:float 0, match:workspace f[1]
windowrule = rounding 0, match:float 0, match:workspace f[1]

windowrule = match:class QEMU, float on
